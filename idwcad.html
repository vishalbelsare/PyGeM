

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Inverse Distance Weighting [CAD] &mdash; PyGeM 2.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Custom Deformation [CAD]" href="custom_deformation_cad.html" />
    <link rel="prev" title="Radial Basis Function [CAD]" href="rbfcad.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> PyGeM
          

          
          </a>

          
            
            
              <div class="version">
                2.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="code.html">Code Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ffd.html">Free-form Deformation</a></li>
<li class="toctree-l2"><a class="reference internal" href="rbf.html">Radial Basis Function</a></li>
<li class="toctree-l2"><a class="reference internal" href="rbf_factory.html">RBF Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="idw.html">Inverse Distance Weighting</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_deformation.html">Custom Deformation</a></li>
<li class="toctree-l2"><a class="reference internal" href="filehandler.html">Filehandler</a></li>
<li class="toctree-l2"><a class="reference internal" href="vtkhandler.html">Vtkhandler</a></li>
<li class="toctree-l2"><a class="reference internal" href="stlhandler.html">Stlhandler</a></li>
<li class="toctree-l2"><a class="reference internal" href="openfhandler.html">Openfhandler</a></li>
<li class="toctree-l2"><a class="reference internal" href="unvhandler.html">Unvhandler</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="code.html#cad">CAD</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="cad_deformation.html">CAD Deformation</a></li>
<li class="toctree-l3"><a class="reference internal" href="ffdcad.html">Free-form Deformation [CAD]</a></li>
<li class="toctree-l3"><a class="reference internal" href="rbfcad.html">Radial Basis Function [CAD]</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Inverse Distance Weighting [CAD]</a></li>
<li class="toctree-l3"><a class="reference internal" href="custom_deformation_cad.html">Custom Deformation [CAD]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="code.html#table-of-contents">Table of contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">How to contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="LICENSE.html">License</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PyGeM</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="code.html">Code Documentation</a> &raquo;</li>
        
      <li>Inverse Distance Weighting [CAD]</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/idwcad.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-pygem.cad.idw">
<span id="inverse-distance-weighting-cad"></span><h1>Inverse Distance Weighting [CAD]<a class="headerlink" href="#module-pygem.cad.idw" title="Permalink to this headline">¶</a></h1>
<p>Module focused on the Inverse Distance Weighting interpolation technique.
The IDW algorithm is an average moving interpolation that is usually applied to
highly variable data. The main idea of this interpolation strategy lies in
fact that it is not desirable to honour local high/low values but rather to look
at a moving average of nearby data points and estimate the local trends.
The node value is calculated by averaging the weighted sum of all the points.
Data points that lie progressively farther from the node inuence much less the
computed value than those lying closer to the node.</p>
<dl class="field-list">
<dt class="field-odd">Theoretical Insight</dt>
<dd class="field-odd"><p>This implementation is based on the simplest form of inverse distance
weighting interpolation, proposed by D. Shepard, A two-dimensional
interpolation function for irregularly-spaced data, Proceedings of the 23 rd
ACM National Conference.</p>
<p>The interpolation value <span class="math">u</span> of a given point <span class="math">\mathrm{x}</span>
from a set of samples <span class="math">u_k = u(\mathrm{x}_k)</span>, with
<span class="math">k = 1,2,\dotsc,\mathcal{N}</span>, is given by:</p>
<div class="math">
<p><span class="math">u(\mathrm{x}) = \displaystyle\sum_{k=1}^\mathcal{N}
\frac{w(\mathrm{x},\mathrm{x}_k)}
{\displaystyle\sum_{j=1}^\mathcal{N} w(\mathrm{x},\mathrm{x}_j)}
u_k</span></p>
</div><p>where, in general, <span class="math">w(\mathrm{x}, \mathrm{x}_i)</span> represents the
weighting function:</p>
<div class="math">
<p><span class="math">w(\mathrm{x}, \mathrm{x}_i) = \| \mathrm{x} - \mathrm{x}_i \|^{-p}</span></p>
</div><p>being <span class="math">\| \mathrm{x} - \mathrm{x}_i \|^{-p} \ge 0</span> is the
Euclidean distance between <span class="math">\mathrm{x}</span> and data point
<span class="math">\mathrm{x}_i</span> and <span class="math">p</span> is a power parameter, typically equal to
2.</p>
</dd>
</dl>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
</tbody>
</table>
<dl class="py class">
<dt>
<em class="property">class </em><code class="sig-name descname">IDW</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">original_control_points</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">deformed_control_points</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">power</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">u_knots_to_add</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">v_knots_to_add</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">t_knots_to_add</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">tolerance</span><span class="o">=</span><span class="default_value">0.0001</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pygem/cad/idw.html#IDW"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pygem.cad.cad_deformation.CADDeformation</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">pygem.idw.IDW</span></code></p>
<p>Class that perform the Inverse Distance Weighting (IDW) on CAD geometries.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the power parameter. The default value is 2.</p></li>
<li><p><strong>original_control_points</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><em>numpy.ndarray</em></a>) – it is an
(<em>n_control_points</em>, <em>3</em>) array with the coordinates of the original
interpolation control points before the deformation. The default is the
vertices of the unit cube.</p></li>
<li><p><strong>deformed_control_points</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><em>numpy.ndarray</em></a>) – it is an
(<em>n_control_points</em>, <em>3</em>) array with the coordinates of the
interpolation control points after the deformation. The default is the
vertices of the unit cube.</p></li>
<li><p><strong>u_knots_to_add</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of knots to add to the NURBS surfaces
along <cite>u</cite> direction before the deformation. This parameter is useful
whenever the gradient of the imposed deformation present spatial scales
that are smaller than the local distance among the original poles of
the surface/curve. Enriching the poles will allow for a more accurate
application of the deformation, and might also reduce possible
mismatches between bordering faces. On the orther hand, it might result
in higher computational cost and bigger output files. Default is 0.</p></li>
<li><p><strong>v_knots_to_add</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of knots to add to the NURBS surfaces
along <cite>v</cite> direction before the deformation. This parameter is useful
whenever the gradient of the imposed deformation present spatial scales
that are smaller than the local distance among the original poles of
the surface/curve. Enriching the poles will allow for a more accurate
application of the deformation, and might also reduce possible
mismatches between bordering faces. On the orther hand, it might result
in higher computational cost and bigger output files.  Default is 0.</p></li>
<li><p><strong>t_knots_to_add</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of knots to add to the NURBS curves
before the deformation. This parameter is useful whenever the gradient
of the imposed deformation present spatial scales that are smaller than
the local distance among the original poles of the surface/curve.
Enriching the poles will allow for a more accurate application of the
deformation, and might also reduce possible mismatches between
bordering faces. On the orther hand, it might result in higher
computational cost and bigger output files. Default is 0.</p></li>
<li><p><strong>tolerance</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – the tolerance involved in several internal
operations of the procedure (joining wires in a single curve before
deformation and placing new poles on curves and surfaces). Change the
default value only if the input file scale is significantly different
form mm, making some of the aforementioned operations fail. Default is
0.0001.</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>power</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the power parameter. The default value is 2.</p></li>
<li><p><strong>original_control_points</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><em>numpy.ndarray</em></a>) – it is an
(<em>n_control_points</em>, <em>3</em>) array with the coordinates of the original
interpolation control points before the deformation. The default is the
vertices of the unit cube.</p></li>
<li><p><strong>deformed_control_points</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><em>numpy.ndarray</em></a>) – it is an
(<em>n_control_points</em>, <em>3</em>) array with the coordinates of the
interpolation control points after the deformation. The default is the
vertices of the unit cube.</p></li>
<li><p><strong>u_knots_to_add</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of knots to add to the NURBS surfaces
along <cite>u</cite> direction before the deformation. This parameter is useful
whenever the gradient of the imposed deformation present spatial scales
that are smaller than the local distance among the original poles of
the surface/curve. Enriching the poles will allow for a more accurate
application of the deformation, and might also reduce possible
mismatches between bordering faces. On the orther hand, it might result
in higher computational cost and bigger output files. Default is 0.</p></li>
<li><p><strong>v_knots_to_add</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of knots to add to the NURBS surfaces
along <cite>v</cite> direction before the deformation. This parameter is useful
whenever the gradient of the imposed deformation present spatial scales
that are smaller than the local distance among the original poles of
the surface/curve. Enriching the poles will allow for a more accurate
application of the deformation, and might also reduce possible
mismatches between bordering faces. On the orther hand, it might result
in higher computational cost and bigger output files.  Default is 0.</p></li>
<li><p><strong>t_knots_to_add</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of knots to add to the NURBS curves
before the deformation. This parameter is useful whenever the gradient
of the imposed deformation present spatial scales that are smaller than
the local distance among the original poles of the surface/curve.
Enriching the poles will allow for a more accurate application of the
deformation, and might also reduce possible mismatches between
bordering faces. On the orther hand, it might result in higher
computational cost and bigger output files. Default is 0.</p></li>
<li><p><strong>tolerance</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – the tolerance involved in several internal
operations of the procedure (joining wires in a single curve before
deformation and placing new poles on curves and surfaces). Change the
default value only if the input file scale is significantly different
form mm, making some of the aforementioned operations fail. Default is
0.0001.</p></li>
</ul>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pygem.cad</span> <span class="kn">import</span> <span class="n">IDW</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idw</span> <span class="o">=</span> <span class="n">IDW</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idw</span><span class="o">.</span><span class="n">read_parameters</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="s1">&#39;tests/test_datasets/parameters_test_idw_iges.prm&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_cad_file_name</span> <span class="o">=</span> <span class="s2">&quot;input.iges&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">modified_cad_file_name</span> <span class="o">=</span> <span class="s2">&quot;output.iges&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idw</span><span class="p">(</span><span class="n">input_cad_file_name</span><span class="p">,</span> <span class="n">modified_cad_file_name</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="custom_deformation_cad.html" class="btn btn-neutral float-right" title="Custom Deformation [CAD]" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="rbfcad.html" class="btn btn-neutral float-left" title="Radial Basis Function [CAD]" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright Copyright 2017-2020, PyGeM contributors
      <span class="lastupdated">
        Last updated on Jul 08, 2020.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>